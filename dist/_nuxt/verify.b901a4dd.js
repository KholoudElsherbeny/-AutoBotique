import{_ as A}from"./FormInput.a59cf4ac.js";import{_ as I}from"./FormButton.e5cd7372.js";import{a as j,b as F,u as L,c as S,d as U,e as B}from"./entry.292f65b0.js";import{u as N}from"./composables.33e0fa5e.js";import{u as b}from"./cookie.a04b2244.js";import{_ as O}from"./BACKDROP.fc8a6ccc.js";import{c as z,a as E}from"./index.esm.b18c19fd.js";import{b as T,f as C,O as q,a0 as H,a1 as e,E as r,a8 as y,z as n,N as W,$ as G,a5 as _,U as g,a2 as k,ak as J,al as K}from"./swiper-vue.9b6bf1d2.js";const M=i=>(J("data-v-f6a0ed3c"),i=i(),K(),i),P={class:"h-100 verify_page"},Q={class:"h-100 auth_form_container d-flex justify-content-start align-items-center"},X={class:"container-fluid w-100"},Y={class:"row"},Z={class:"d-flex flex-column gap-3"},ee={class:"sub_title"},te=M(()=>e("h1",{class:"title"},"Verifying Account",-1)),ae={class:"w-75 mb-4"},oe={class:"d-flex justify-content-between"},se=["disabled"],ne={class:"d-flex justify-content-end mt-3"},ce={class:"background_iamge","data-src":O,alt:"car"},ie={__name:"verify",setup(i){const V=F(),d=L(),x=S(),l=U(),u=b("phone_code"),p=b("phone");N({title:"Verify"}),B({validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0});const D=z({code:E().required().label("Verify Code")}),$=async(a,h)=>{const t=new FormData;t.append("code",a.code),t.append("phone",p.value),t.append("phone_code",u.value),t.append("device_token","website"),t.append("type","ios");const o=x.public.baseURL,f={Accept:"application/json",lang:l.locale.value,"Accept-Language":l.locale.value};try{const c=await $fetch(`${o}check_code`,{method:"post",headers:f,body:t}),v=b("code");v.value=a.code,d.success(c.message),V.push("/auth/reset-password")}catch(c){d.error(c.data.message)}},s=T(60),m=()=>{s.value>0&&setTimeout(()=>{s.value-=1,m()},1e3)};m();const R=async()=>{const a=new FormData;a.append("phone",p.value),a.append("phone_code",u.value);const h=x.public.baseURL,t={Accept:"application/json",lang:l.locale.value,"Accept-Language":l.locale.value};try{const o=await $fetch(`${h}send_code`,{method:"post",headers:t,body:a});d.success(o.message),s.value=60,m()}catch(o){d.error(o.data.message)}};return(a,h)=>{const t=C("router-link"),o=A,f=I,c=C("VForm"),v=q("lazy-load");return G(),H("section",P,[e("div",Q,[e("div",X,[e("div",Y,[r(c,{"validation-schema":n(D),"initial-values":a.initialValues,onSubmit:$,class:"col-12 col-xl-6 col-xxl-5"},{default:y(({meta:w})=>[e("div",Z,[e("h5",ee,_(a.$t("auth_sub_title")),1),te,e("div",ae," We just sent a 4-digit verification to +"+_(n(u))+" "+_(n(p))+". enter the code in the box below to continue. ",1),r(t,{class:"mainColor",to:"edit_number"},{default:y(()=>[g("Edit the Number")]),_:1}),r(o,{label:"Code",type:"text",placeholder:"Code",name:"code"}),e("div",oe,[e("div",null,[g(" Didn't Receive A Code?"),e("button",{class:k(["mainColor span_btn",n(s)&&"btn_disabled"]),onClick:R,disabled:n(s)}," Resend ",10,se)]),e("div",null,_("0 : "+n(s)),1)]),e("div",ne,[r(f,{type:"submit",class:k({red:w.valid}),disabled:!w.valid},{default:y(()=>[g("Verify Account")]),_:2},1032,["class","disabled"])])])]),_:1},8,["validation-schema","initial-values"])])])]),W(e("img",ce,null,512),[[v]])])}}},fe=j(ie,[["__scopeId","data-v-f6a0ed3c"]]);export{fe as default};
